{"version":3,"sources":["components/CurrentWeather/CurrentWeather.module.css","components/CurrentWeather/AutoLocationIcon.jsx","store/dataSlice.js","store/currWeatherSlice.js","hooks/useFindLocation.js","components/CurrentWeather/FindLocation.jsx","components/PortalModal/PortalModal.jsx","store/graphSlice.js","components/CurrentWeather/CurrentWeather.jsx","components/TypeBtns/TypeBtns.jsx","hooks/useGraphics.js","components/WeatherGraphic/LabelComponent.jsx","components/WeatherGraphic/LabelAxis.jsx","components/WeatherGraphic/WindArrow.jsx","components/WeatherGraphic/WeatherGraphic.jsx","components/DaysBtns/DaysBtns.jsx","App.jsx","store/index.js","index.js"],"names":["module","exports","AutoLocationIcon","size","fill","xmlns","style","margin","width","height","viewBox","d","memo","fetchWeather","createAsyncThunk","pos","a","rejectWithValue","lat","lon","url","fetch","response","ok","Error","json","message","dataSlice","createSlice","name","initialState","data","statusFetchWeather","errorFetchWeather","extraReducers","pending","state","fulfilled","action","payload","rejected","currWeatherSlice","currData","currLocation","isMetric","isAutoLocation","reducers","setCurrData","curr","current","country","location","getCurrWeatherObject","last_updated","setForecastData","time","updTimeStamp","fCast","forecast","forecastday","main","day","hour","Date","getTime","setCurrDayData","currDay","setMetric","setAutoLocation","isDay","formatOptions","weekday","minute","temp_c","Math","round","avgtemp_c","temp_f","avgtemp_f","icon","condition","precip_mm","totalprecip_mm","humidity","avghumidity","wind_kph","maxwind_kph","wind_mph","maxwind_mph","text","updTime","Intl","DateTimeFormat","format","actions","useFindLocation","dispatch","useDispatch","word","SetStatus","SetList","SetError","getUrPosition","navigator","geolocation","getCurrentPosition","coords","latitude","longitude","enableHighAccuracy","timeout","maximumAge","fetchNewWeather","ev","target","value","fetchLocation","FindLocation","isVisible","inputElement","useRef","useState","listFindLocations","SetListFindLocations","errorFindLocations","SetErrorFindLocations","statusFetchLocation","SetStatusFetchLocation","itemKeyHandler","code","type","useLayoutEffect","focus","className","classes","findWrapper","findInput","ref","onChange","length","placeholder","tabIndex","findList","findItem","map","onClick","onKeyUp","id","PortalModal","isOpen","onClose","children","childrenClassName","onCloseHandler","closest","createPortal","document","body","graphSlice","dataXY","typeY","tickValues","slideGraphicsPx","minY","getXY","newData","forEach","push","wind_degree","getArrHours","currHour","getHours","newArr","ar","ind","i","j","setType","val","includes","setSlideGraphics","currTime","lastUpdTime","res","getMinY","reduce","min","cur","resetGraphicsStates","getVisualY","CurrentWeather","useSelector","currWeather","isVisibleFindLocationInput","setVisibleFindLocationInput","handlerClick","bool","batch","useEffect","leftCol","src","alt","temp","btns","disabled","btn","active","vertLine","other","rightCol","btnFindLoc","TypeBtns","graphics","handleClick","e","parentElement","querySelectorAll","button","classList","remove","add","UseGraphics","datum","addPostfix","postfix","hourX","chartsStyles","VictoryAxis","tickLabels","fontFamily","fontSize","axis","stroke","VictoryArea","strokeWidth","labels","fontWeight","cursor","padding","bottom","top","left","right","domainPadding","y","VictoryContainer","transform","transition","dataset","LabelComponent","props","x","dx","dy","useGraphics","vectorEffect","setMinutes","LabelAxis","WindArrow","enableBackground","transformOrigin","points","WeatherGraphic","containerComponent","events","responsive","crossAxis","tickFormat","t","tickLabelComponent","undefined","dataComponent","labelComponent","y0","interpolation","DaysBtns","addBtns","maxtemp_c","maxtemp_f","mintemp_c","mintemp_f","isSameDay","getDate","date","nums","num","roundNums","weekDay","btnDay","b","areEqual","prevProps","currProps","sameDay","getDay","App","color","configureStore","reducer","ReactDOM","render","StrictMode","store","getElementById"],"mappings":"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","file":"static/js/main.05673a55.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"current\":\"CurrentWeather_current__3eoIk\",\"leftCol\":\"CurrentWeather_leftCol__3OQxZ\",\"temp\":\"CurrentWeather_temp__3W1Vd\",\"btns\":\"CurrentWeather_btns__AZ7d7\",\"btn\":\"CurrentWeather_btn__Oh3m-\",\"active\":\"CurrentWeather_active__tCyXI\",\"vertLine\":\"CurrentWeather_vertLine__3lqeN\",\"other\":\"CurrentWeather_other__quPtP\",\"rightCol\":\"CurrentWeather_rightCol__t55u-\",\"btnFindLoc\":\"CurrentWeather_btnFindLoc__1LIEj\",\"location\":\"CurrentWeather_location__pkGnp\",\"findWrapper\":\"CurrentWeather_findWrapper__1a7QJ\",\"findInput\":\"CurrentWeather_findInput__3L8z8\",\"findList\":\"CurrentWeather_findList__QGo5A\",\"findItem\":\"CurrentWeather_findItem__aoEil\"};","import React, {memo} from 'react';\r\n\r\nconst AutoLocationIcon = ({size = 24, fill = '#fbbc04'}) => {\r\n\r\n\treturn (\r\n\t\t\t<svg\r\n\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\r\n\t\t\t\t\tstyle={{margin: '0 10px 0 0'}}\r\n\t\t\t\t\twidth={size}\r\n\t\t\t\t\theight={size}\r\n\t\t\t\t\tviewBox=\"0 0 24 24\">\r\n\t\t\t\t<path fill={fill}\r\n\t\t\t\t\t\t\td=\"M12 0c-4.198 0-8 3.403-8 7.602 0 4.198 3.469 9.21 8 16.398 4.531-7.188 8-12.2 8-16.398 0-4.199-3.801-7.602-8-7.602zm0 11c-1.657 0-3-1.343-3-3s1.343-3 3-3 3 1.343 3 3-1.343 3-3 3z\"/>\r\n\t\t\t</svg>\r\n\t);\r\n};\r\n\r\nexport default memo(AutoLocationIcon);\r\n\r\n\r\n","import {createAsyncThunk, createSlice} from \"@reduxjs/toolkit\";\r\n\r\nconst fetchWeather = createAsyncThunk(\r\n\t\t'data/fetchWeather',\r\n\t\tasync function (pos, {rejectWithValue}) {\r\n\t\t\tconst [lat, lon] = pos\r\n\t\t\tconst url = `https://api.weatherapi.com/v1/forecast.json?key=b8d348df879e486ca0f172620210610&q=${lat},${lon}&days=8&lang=ru`\r\n\t\t\ttry {\r\n\t\t\t\tconst response = await fetch(url)\r\n\t\t\t\tif (!response.ok) {\r\n\t\t\t\t\tthrow new Error('Server Error!')\r\n\t\t\t\t}\r\n\t\t\t\treturn await response.json()\r\n\t\t\t} catch (e) {\r\n\t\t\t\treturn rejectWithValue(e.message)\r\n\t\t\t}\r\n\t\t}\r\n)\r\n\r\nconst dataSlice = createSlice({\r\n\tname: 'data',\r\n\r\n\tinitialState: {\r\n\t\tdata: {},\r\n\t\tstatusFetchWeather: null,\r\n\t\terrorFetchWeather: null,\r\n\t},\r\n\r\n\textraReducers: {\r\n\t\t[fetchWeather.pending]: (state) => {\r\n\t\t\tstate.statusFetchWeather = 'loading'\r\n\t\t},\r\n\t\t[fetchWeather.fulfilled]: (state, action) => {\r\n\t\t\tstate.data = action.payload\r\n\t\t\tstate.statusFetchWeather = 'ok'\r\n\t\t},\r\n\t\t[fetchWeather.rejected]: (state, action) => {\r\n\t\t\tstate.errorFetchWeather = action.payload\r\n\t\t\tstate.statusFetchWeather = 'rejected'\r\n\t\t},\r\n\t}\r\n})\r\n\r\nexport {fetchWeather}\r\nexport default dataSlice.reducer","import {createSlice} from \"@reduxjs/toolkit\";\r\n\r\nconst currWeatherSlice = createSlice({\r\n\t\t\tname: 'currWeather',\r\n\t\t\tinitialState: {\r\n\t\t\t\tcurrData: {},\r\n\t\t\t\tcurrLocation: {},\r\n\t\t\t\tisMetric: true,\r\n\t\t\t\tisAutoLocation: false,\r\n\t\t\t},\r\n\r\n\t\t\treducers: {\r\n\t\t\t\tsetCurrData(state, action) {\r\n\t\t\t\t\tconst {data} = action.payload\r\n\t\t\t\t\tconst curr = data.current;\r\n\r\n\t\t\t\t\tstate.currLocation = {\r\n\t\t\t\t\t\tcountry: data.location.country,\r\n\t\t\t\t\t\tname: data.location.name,\r\n\t\t\t\t\t}\r\n\t\t\t\t\tstate.currData = getCurrWeatherObject(curr, curr.last_updated)\r\n\t\t\t\t},\r\n\r\n\t\t\t\tsetForecastData(state, action) {\r\n\t\t\t\t\tconst [time, data] = action.payload\r\n\r\n\t\t\t\t\tif (state.currData.updTimeStamp === time) return\r\n\r\n\t\t\t\t\tlet fCast\r\n\r\n\t\t\t\t\tmain: for (const day of data.forecast.forecastday) {\r\n\t\t\t\t\t\tfor (const hour of day.hour) {\r\n\t\t\t\t\t\t\tif (new Date(hour.time).getTime() === time) {\r\n\t\t\t\t\t\t\t\tfCast = hour;\r\n\t\t\t\t\t\t\t\tbreak main\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tstate.currData = getCurrWeatherObject(fCast, fCast.time)\r\n\t\t\t\t},\r\n\r\n\t\t\t\tsetCurrDayData(state, action) {\r\n\t\t\t\t\tconst [time, currDay] = action.payload\r\n\t\t\t\t\tif (state.currData.updTimeStamp === time) return\r\n\t\t\t\t\tstate.currData = getCurrWeatherObject(currDay, time, true)\r\n\t\t\t\t},\r\n\r\n\t\t\t\tsetMetric(state, action) {\r\n\t\t\t\t\tstate.isMetric = action.payload\r\n\t\t\t\t},\r\n\r\n\t\t\t\tsetAutoLocation(state, action) {\r\n\t\t\t\t\tstate.isAutoLocation = action.payload\r\n\t\t\t\t},\r\n\t\t\t},\r\n\t\t}\r\n)\r\n\r\nfunction getCurrWeatherObject(curr, last_updated, isDay = false) {\r\n\r\n\tconst formatOptions = {\r\n\t\tweekday: 'long',\r\n\t}\r\n\r\n\tif (!isDay) {\r\n\t\tformatOptions.hour = 'numeric'\r\n\t\tformatOptions.minute = 'numeric'\r\n\t}\r\n\r\n\treturn {\r\n\t\ttemp_c: Math.round(isDay ? curr.avgtemp_c : curr.temp_c),\r\n\t\ttemp_f: Math.round(isDay ? curr.avgtemp_f : curr.temp_f),\r\n\t\ticon: curr.condition.icon,\r\n\t\tprecip_mm: isDay ? curr.totalprecip_mm : curr.precip_mm,\r\n\t\thumidity: isDay ? curr.avghumidity : curr.humidity,\r\n\t\twind_kph: Math.round(isDay ? curr.maxwind_kph : curr.wind_kph),\r\n\t\twind_mph: Math.round(isDay ? curr.maxwind_mph : curr.wind_mph),\r\n\t\ttext: curr.condition.text,\r\n\t\tupdTime: new Intl.DateTimeFormat('ru-RU', formatOptions)\r\n\t\t\t\t.format(new Date(last_updated)),\r\n\t\tupdTimeStamp: new Date(last_updated).getTime()\r\n\t}\r\n}\r\n\r\nexport const {\r\n\tsetCurrData,\r\n\tsetForecastData,\r\n\tsetMetric,\r\n\tsetCurrDayData,\r\n\tsetAutoLocation,\r\n} = currWeatherSlice.actions\r\n\r\nexport default currWeatherSlice.reducer","import {fetchWeather} from \"../store/dataSlice\";\r\nimport {useDispatch} from \"react-redux\";\r\nimport {setAutoLocation} from \"../store/currWeatherSlice\";\r\n\r\nconst useFindLocation = () => {\r\n\r\n\tconst dispatch = useDispatch()\r\n\r\n\tfunction getUrPosition() {\r\n\t\tnavigator.geolocation.getCurrentPosition(\r\n\t\t\t\tpos => {\r\n\t\t\t\t\tdispatch(fetchWeather([pos.coords.latitude, pos.coords.longitude]))\r\n\t\t\t\t\tdispatch(setAutoLocation(true))\r\n\t\t\t\t},\r\n\t\t\t\t() => dispatch(fetchWeather([34.052235, -118.243683])), //Los angeles\r\n\t\t\t\t{\r\n\t\t\t\t\tenableHighAccuracy: true,\r\n\t\t\t\t\ttimeout: 5000,\r\n\t\t\t\t\tmaximumAge: 0\r\n\t\t\t\t});\r\n\t}\r\n\r\n\tasync function fetchLocation(word, SetStatus, SetList, SetError) {\r\n\t\tSetStatus('loading')\r\n\r\n\t\tconst url = `https://api.weatherapi.com/v1/search.json?key=b8d348df879e486ca0f172620210610&q=${word}`\r\n\r\n\t\ttry {\r\n\t\t\tconst response = await fetch(url)\r\n\t\t\tif (!response.ok) {\r\n\t\t\t\tthrow new Error('Server Error!')\r\n\t\t\t}\r\n\t\t\tSetList(await response.json())\r\n\t\t\tSetStatus('ok')\r\n\t\t} catch (e) {\r\n\t\t\tSetError(e.message)\r\n\t\t\tSetStatus('error')\r\n\t\t}\r\n\t}\r\n\r\n\tfunction fetchNewWeather(ev, lat, lon) {\r\n\t\tdispatch(fetchWeather([lat, lon]))\r\n\t\tev.target.value = ''\r\n\t\tdispatch(setAutoLocation(false))\r\n\t}\r\n\r\n\treturn {\r\n\t\tgetUrPosition,\r\n\t\tfetchNewWeather,\r\n\t\tfetchLocation,\r\n\t}\r\n}\r\n\r\nexport default useFindLocation;","import React, {useLayoutEffect, useRef, useState} from 'react';\r\nimport classes from \"./CurrentWeather.module.css\";\r\nimport useFindLocation from \"../../hooks/useFindLocation\";\r\n\r\nconst FindLocation = ({isVisible}) => {\r\n\r\n\tconst {fetchNewWeather, fetchLocation} = useFindLocation()\r\n\r\n\tconst inputElement = useRef()\r\n\r\n\tconst [listFindLocations, SetListFindLocations] = useState([])\r\n\tconst [errorFindLocations, SetErrorFindLocations] = useState(null)\r\n\tconst [statusFetchLocation, SetStatusFetchLocation] = useState(null)\r\n\r\n\tuseLayoutEffect(() => {\r\n\t\tif (isVisible) inputElement.current.focus()\r\n\t}, [])\r\n\r\n\tfunction itemKeyHandler(ev, location) {\r\n\t\tif (ev.code === 'Enter' || ev.type === \"click\") fetchNewWeather(ev, location.lat, location.lon)\r\n\t}\r\n\r\n\tfunction onChangeInputFindLocation(word) {\r\n\t\tif (word.length > 2) {\r\n\t\t\tfetchLocation(word, SetStatusFetchLocation, SetListFindLocations, SetErrorFindLocations)\r\n\t\t}\r\n\t}\r\n\r\n\treturn (\r\n\t\t\t<div className={`${classes.findWrapper} js-findWrapper`}>\r\n\t\t\t\t<h3>Введите название населенного пункта</h3>\r\n\t\t\t\t<input className={classes.findInput}\r\n\t\t\t\t\t\t\t ref={inputElement}\r\n\t\t\t\t\t\t\t onChange={ev => onChangeInputFindLocation(ev.target.value)}\r\n\t\t\t\t\t\t\t placeholder={'Поиск от 3 символов'}\r\n\t\t\t\t\t\t\t type=\"text\"\r\n\t\t\t\t\t\t\t name=\"country-name\"\r\n\t\t\t\t/>\r\n\t\t\t\t<ul tabIndex={0} className={classes.findList}>\r\n\t\t\t\t\t{statusFetchLocation === 'loading' && <li className={classes.findItem}>loading...</li>}\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tlistFindLocations.length > 0\r\n\t\t\t\t\t\t&& statusFetchLocation === 'ok'\r\n\t\t\t\t\t\t&& listFindLocations.map(location => {\r\n\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t<li className={classes.findItem}\r\n\t\t\t\t\t\t\t\t\t\t\ttabIndex={0}\r\n\t\t\t\t\t\t\t\t\t\t\tonClick={ev => itemKeyHandler(ev, location)}\r\n\t\t\t\t\t\t\t\t\t\t\tonKeyUp={ev => itemKeyHandler(ev, location)}\r\n\t\t\t\t\t\t\t\t\t\t\tkey={location.id}>\r\n\t\t\t\t\t\t\t\t\t\t{location.name}\r\n\t\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t})}\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tlistFindLocations.length === 0\r\n\t\t\t\t\t\t&& statusFetchLocation === 'ok'\r\n\t\t\t\t\t\t&& <li className={classes.findItem}>Не найдено</li>\r\n\t\t\t\t\t}\r\n\t\t\t\t\t{statusFetchLocation === 'error' && <li className={classes.findItem}>{errorFindLocations}</li>}\r\n\t\t\t\t</ul>\r\n\t\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default FindLocation;","import React from 'react';\r\nimport {createPortal} from \"react-dom\";\r\n\r\nconst PortalModal = ({isOpen, onClose, children, childrenClassName}) => {\r\n\tif (!isOpen) return null;\r\n\r\n\tfunction onCloseHandler(ev) {\r\n\t\tif (!ev.target.closest(`.${childrenClassName}`) || ev.code === \"Escape\") {\r\n\t\t\tonClose()\r\n\t\t}\r\n\t}\r\n\r\n\treturn createPortal(\r\n\t\t\t<div\r\n\t\t\t\t\tclassName=\"modal\"\r\n\t\t\t\t\tonClick={onCloseHandler}\r\n\t\t\t\t\tonKeyUp={onCloseHandler}\r\n\t\t\t>\r\n\t\t\t\t{children}\r\n\t\t\t</div>,\r\n\t\t\tdocument.body\r\n\t);\r\n};\r\n\r\nexport default PortalModal;","import {createSlice} from \"@reduxjs/toolkit\";\r\n\r\nconst defStates = {\r\n\tdataXY: [],\r\n\ttypeY: 'temp_c',\r\n\ttickValues: [],\r\n\tlast_updated: null,\r\n\tslideGraphicsPx: null,\r\n\tminY: -1,\r\n}\r\n\r\nconst graphSlice = createSlice({\r\n\tname: 'graph',\r\n\tinitialState: defStates,\r\n\treducers: {\r\n\r\n\t\tgetXY(state, action) {\r\n\t\t\tconst newData = []\r\n\r\n\t\t\tfor (const day of action.payload.data.forecast.forecastday) {\r\n\t\t\t\tday.hour.forEach((hour) => {\r\n\r\n\t\t\t\t\tnewData.push({\r\n\t\t\t\t\t\ttime: new Date(hour.time).getTime(),\r\n\t\t\t\t\t\ttemp_c: Math.round(hour.temp_c),\r\n\t\t\t\t\t\ttemp_f: Math.round(hour.temp_f),\r\n\t\t\t\t\t\thumidity: Math.round(hour.humidity),\r\n\t\t\t\t\t\twind_kph: Math.round(hour.wind_kph),\r\n\t\t\t\t\t\twind_mph: Math.round(hour.wind_mph),\r\n\t\t\t\t\t\twind_degree: hour.wind_degree,\r\n\t\t\t\t\t})\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t\tstate.dataXY = newData\r\n\t\t\tstate.last_updated = action.payload.data.current.last_updated\r\n\t\t},\r\n\r\n\t\tgetArrHours(state) {\r\n\t\t\tlet currHour = new Date(state.last_updated).getHours() + 1\r\n\t\t\tconst newArr = []\r\n\r\n\t\t\tstate.dataXY.forEach((ar, ind) => {\r\n\t\t\t\tfor (let i = currHour; i < 75; i += 3) {\r\n\t\t\t\t\tif (ind === i) newArr.push(ar.time)\r\n\t\t\t\t\tfor (let j = currHour; j >= 0; j -= 3) {\r\n\t\t\t\t\t\tif (ind === j) newArr.push(ar.time)\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\tstate.tickValues = newArr\r\n\t\t},\r\n\r\n\t\tsetType(state, action) {\r\n\t\t\tconst val = action.payload\r\n\r\n\t\t\tif (typeof val === \"boolean\") {\r\n\t\t\t\tif (state.typeY.includes('temp')) state.typeY = val ? 'temp_c' : 'temp_f'\r\n\t\t\t\tif (state.typeY.includes('wind')) state.typeY = val ? 'wind_kph' : 'wind_mph'\r\n\t\t\t\treturn\r\n\t\t\t}\r\n\t\t\tstate.typeY = val\r\n\t\t},\r\n\r\n\t\tsetSlideGraphics(state, action) {\r\n\t\t\tconst time = action.payload\r\n\t\t\tlet currTime = new Date(time).getTime()\r\n\t\t\tlet lastUpdTime = new Date(state.last_updated).getTime()\r\n\r\n\t\t\tif (currTime < lastUpdTime) currTime = lastUpdTime\r\n\t\t\tconst firstTime = state.dataXY[0].time\r\n\t\t\tlet res = (((currTime - firstTime) / 3600000) - 2.9) * 650 / 24\r\n\r\n\t\t\tif (res > 1275) res = 1275\r\n\t\t\tif (res < 0) res = 0\r\n\r\n\t\t\tstate.slideGraphicsPx = res\r\n\t\t},\r\n\r\n\t\tgetMinY(state) {\r\n\t\t\tstate.minY = state.dataXY.reduce((min, cur) => {\r\n\r\n\t\t\t\tif (min >= cur[state.typeY]) min = (cur[state.typeY] - 1)\r\n\r\n\t\t\t\treturn min\r\n\t\t\t}, -1)\r\n\t\t},\r\n\t}\r\n})\r\n\r\nexport const {\r\n\tresetGraphicsStates,\r\n\tgetXY,\r\n\tsetSlideGraphics,\r\n\tgetArrHours,\r\n\tgetVisualY,\r\n\tsetType,\r\n\tgetMinY\r\n} = graphSlice.actions\r\n\r\nexport default graphSlice.reducer","import React, {useEffect, useState} from 'react';\r\nimport {batch, useDispatch, useSelector} from \"react-redux\";\r\nimport classes from './CurrentWeather.module.css'\r\n\r\nimport AutoLocationIcon from \"./AutoLocationIcon\";\r\nimport FindLocation from \"./FindLocation\";\r\nimport PortalModal from \"../PortalModal/PortalModal\";\r\n\r\nimport {setCurrData, setMetric} from \"../../store/currWeatherSlice\";\r\nimport {setType} from \"../../store/graphSlice\";\r\n\r\nconst CurrentWeather = () => {\r\n\r\n\tconst {isMetric, currData, isAutoLocation, currLocation}\r\n\t\t\t= useSelector(state => state.currWeather)\r\n\r\n\tconst {data} = useSelector(state => state.data)\r\n\r\n\tconst [isVisibleFindLocationInput, setVisibleFindLocationInput] = useState(false)\r\n\r\n\tconst {\r\n\t\ttemp_c, temp_f, icon, precip_mm, humidity,\r\n\t\twind_kph, wind_mph, text, updTime\r\n\t} = currData\r\n\r\n\tconst {country, name} = currLocation\r\n\r\n\tconst dispatch = useDispatch()\r\n\r\n\tuseEffect(() => {\r\n\t\tdispatch(setCurrData({data}))\r\n\t}, [data, dispatch])\r\n\r\n\tfunction handlerClick(bool) {\r\n\t\tbatch(() => {\r\n\t\t\tdispatch(setMetric(bool))\r\n\t\t\tdispatch(setType(bool))\r\n\t\t})\r\n\t}\r\n\r\n\treturn (\r\n\t\t\t<div className={classes.current}>\r\n\r\n\t\t\t\t<div className={classes.leftCol}>\r\n\t\t\t\t\t<img width={64} height={64} src={icon} alt=\"weather icon\"/>\r\n\t\t\t\t\t<span className={classes.temp}>{isMetric ? temp_c : temp_f}</span>\r\n\r\n\t\t\t\t\t<div className={classes.btns}>\r\n\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\tdisabled={isMetric}\r\n\t\t\t\t\t\t\t\tonClick={() => handlerClick(true)}\r\n\t\t\t\t\t\t\t\tclassName={classes.btn + `${isMetric ? classes.active : ''}`}>\r\n\t\t\t\t\t\t\t&deg;C\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t<span className={classes.vertLine}>|</span>\r\n\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\tdisabled={!isMetric}\r\n\t\t\t\t\t\t\t\tonClick={() => handlerClick(false)}\r\n\t\t\t\t\t\t\t\tclassName={classes.btn + `${!isMetric ? classes.active : ''}`}>\r\n\t\t\t\t\t\t\t&deg;F\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<ul className={classes.other}>\r\n\t\t\t\t\t\t<li>Осадки: {precip_mm} мм</li>\r\n\t\t\t\t\t\t<li>Влажность: {humidity}%</li>\r\n\t\t\t\t\t\t<li>Ветер: {isMetric ? `${wind_kph} км/ч` : `${wind_mph} ми/ч`}</li>\r\n\t\t\t\t\t</ul>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div className={classes.rightCol}>\r\n\t\t\t\t\t<button\r\n\t\t\t\t\t\t\tonClick={() => setVisibleFindLocationInput(true)}\r\n\t\t\t\t\t\t\tclassName={classes.btnFindLoc}>\r\n\t\t\t\t\t\t{isAutoLocation && <AutoLocationIcon size={20}/>}\r\n\t\t\t\t\t\t<h1 className={classes.location}>{country}, {name}</h1>\r\n\t\t\t\t\t</button>\r\n\t\t\t\t\t<span>{updTime}</span>\r\n\t\t\t\t\t<span>{text}</span>\r\n\r\n\t\t\t\t\t<PortalModal\r\n\t\t\t\t\t\t\tchildrenClassName={'js-findWrapper'}\r\n\t\t\t\t\t\t\tisOpen={isVisibleFindLocationInput}\r\n\t\t\t\t\t\t\tonClose={() => setVisibleFindLocationInput(false)}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<FindLocation\r\n\t\t\t\t\t\t\t\tisVisible={isVisibleFindLocationInput}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</PortalModal>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t);\r\n};\r\n\r\n\r\nexport default CurrentWeather;","import React from 'react';\r\nimport {setType} from \"../../store/graphSlice\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\n\r\nconst TypeBtns = () => {\r\n\r\n\tconst {isMetric} = useSelector(state => state.currWeather)\r\n\tconst {typeY} = useSelector(state => state.graphics)\r\n\r\n\tconst dispatch = useDispatch()\r\n\r\n\tfunction handleClick(type, e) {\r\n\t\tif (typeY.includes(type)) return\r\n\r\n\t\te.target.parentElement.querySelectorAll('button')\r\n\t\t\t\t.forEach(button => button.classList.remove('active'))\r\n\r\n\t\te.target.classList.add('active')\r\n\r\n\t\tif (type === 'temp') {\r\n\t\t\tdispatch(setType(`${isMetric ? 'temp_c' : 'temp_f'}`))\r\n\t\t\treturn\r\n\t\t}\r\n\t\tif (type === 'wind') {\r\n\t\t\tdispatch(setType(`${isMetric ? 'wind_kph' : 'wind_mph'}`))\r\n\t\t\treturn\r\n\t\t}\r\n\t\tdispatch(setType(type))\r\n\r\n\t}\r\n\r\n\treturn (\r\n\t\t\t<div className={'type-btns'}>\r\n\t\t\t\t<button\r\n\t\t\t\t\t\tclassName={'active'}\r\n\t\t\t\t\t\tonClick={e => handleClick('temp', e)}>\r\n\t\t\t\t\tТемпература\r\n\t\t\t\t</button>\r\n\t\t\t\t<span className={'vert-line'}>|</span>\r\n\t\t\t\t<button\r\n\t\t\t\t\t\tonClick={e => handleClick('humidity', e)}>\r\n\t\t\t\t\tВлажность\r\n\t\t\t\t</button>\r\n\t\t\t\t<span className={'vert-line'}>|</span>\r\n\t\t\t\t<button\r\n\t\t\t\t\t\tonClick={e => handleClick('wind', e)}>\r\n\t\t\t\t\tВетер\r\n\t\t\t\t</button>\r\n\t\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default TypeBtns;","import {useDispatch, useSelector} from \"react-redux\";\r\nimport {setForecastData} from \"../store/currWeatherSlice\";\r\n\r\nconst UseGraphics = () => {\r\n\r\n\tconst {data} = useSelector(state => state.data)\r\n\tconst {typeY, slideGraphicsPx} = useSelector(state => state.graphics)\r\n\r\n\tconst dispatch = useDispatch()\r\n\r\n\tfunction getVisualY (datum) {\r\n\r\n\t\tfunction addPostfix() {\r\n\t\t\tif (typeY.includes('temp')) return datum[typeY]\r\n\r\n\t\t\tconst postfix =\r\n\t\t\t\t\ttypeY === 'humidity'\r\n\t\t\t\t\t\t\t? '%'\r\n\t\t\t\t\t\t\t: typeY === 'wind_kph'\r\n\t\t\t\t\t\t\t? ' км/ч'\r\n\t\t\t\t\t\t\t: typeY === 'wind_mph'\r\n\t\t\t\t\t\t\t\t\t? ' ми/ч'\r\n\t\t\t\t\t\t\t\t\t: ''\r\n\r\n\t\t\treturn datum[typeY] + `${postfix}`\r\n\t\t}\r\n\r\n\t\tlet currHour = new Date(data.current.last_updated).getHours()\r\n\t\tlet hourX = new Date(datum.time).getHours()\r\n\r\n\t\tif (!typeY.includes('temp')) ++currHour\r\n\r\n\t\tfor (let i = currHour; i < 27; i += 3) {\r\n\t\t\tif (hourX === i) {\r\n\t\t\t\treturn addPostfix()\r\n\t\t\t}\r\n\t\t\tfor (let j = currHour; j >= 0; j -= 3) {\r\n\t\t\t\tif (hourX === j) {\r\n\t\t\t\t\treturn addPostfix()\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tfunction clickHandler(e) {\r\n\t\tif (!e.target.dataset.time) return\r\n\t\tdispatch(setForecastData([+e.target.dataset.time, data]))\r\n\t}\r\n\r\n\tconst chartsStyles = {\r\n\t\tVictoryAxis: {\r\n\t\t\ttickLabels: {\r\n\t\t\t\tfontFamily: 'Arial',\r\n\t\t\t\tfontSize: 12,\r\n\t\t\t\tfill: '#70757a',\r\n\t\t\t},\r\n\t\t\taxis: {stroke: null},\r\n\t\t},\r\n\t\tVictoryArea: {\r\n\t\t\tdata: {\r\n\t\t\t\tfill: `${typeY === 'humidity' ? \"#e8f0fe\" : '#fff5cc'}`,\r\n\t\t\t\tstroke: `${typeY === 'humidity' ? '#1a73e8' : \"#ffcc00\"}`,\r\n\t\t\t\tstrokeWidth: 2,\r\n\t\t\t},\r\n\t\t\tlabels: {\r\n\t\t\t\tfontFamily: 'Arial',\r\n\t\t\t\tfontSize: 11,\r\n\t\t\t\tfontWeight: 700,\r\n\t\t\t\tfill: `${typeY === 'humidity' ? '#1a73e8' : 'rgb(181, 181, 181)'}`,\r\n\t\t\t\tcursor: 'pointer',\r\n\t\t\t}\r\n\t\t},\r\n\t\tpadding: {bottom: 20, top: 25, left: 0, right: 0},\r\n\t\tdomainPadding: {y: [15, 25]},\r\n\t\tVictoryContainer: {\r\n\t\t\ttransform: `translateX(-${slideGraphicsPx}px)`,\r\n\t\t\ttransition: 'all 1000ms cubic-bezier(.51,-0.17,0,1)'\r\n\t\t}\r\n\t}\r\n\r\n\tconst onClick = {onClick: clickHandler}\r\n\r\n\treturn {getVisualY, chartsStyles, onClick};\r\n};\r\n\r\nexport default UseGraphics;\r\n\r\n","import React from 'react';\r\nimport {useSelector} from \"react-redux\";\r\nimport useGraphics from \"../../hooks/useGraphics\";\r\n\r\nconst LabelComponent = (props) => {\r\n\tconst {datum, x, dx, y, dy, style} = props;\r\n\r\n\tconst {currData} = useSelector(state => state.currWeather)\r\n\r\n\tconst {getVisualY} = useGraphics()\r\n\r\n\treturn (\r\n\t\t\t<g\r\n\t\t\t\t\tstyle={style}\r\n\t\t\t\t\tx={x}\r\n\t\t\t\t\ty={getVisualY(datum)}\r\n\t\t\t>\r\n\t\t\t\t<rect\r\n\t\t\t\t\t\tvectorEffect=\"non-scaling-stroke\"\r\n\t\t\t\t\t\theight=\"85\" width={650 / 24}\r\n\t\t\t\t\t\tx={x}\r\n\t\t\t\t\t\tfill={'transparent'}\r\n\t\t\t\t\t\ty={y - 25}\r\n\t\t\t\t\t\tdata-time={datum.time}\r\n\t\t\t\t/>\r\n\t\t\t\t<text\r\n\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\tfill: new Date(currData.updTimeStamp).setMinutes(0) === datum.time\r\n\t\t\t\t\t\t\t\t\t? 'rgb(85, 85, 85)'\r\n\t\t\t\t\t\t\t\t\t: \"inherit\"\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t\tx={x + dx}\r\n\t\t\t\t\t\ty={y}\r\n\t\t\t\t\t\tdy={dy}\r\n\t\t\t\t>\r\n\t\t\t\t\t<tspan\r\n\t\t\t\t\t\t\tdata-time={datum.time}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{getVisualY(datum)}\r\n\t\t\t\t\t</tspan>\r\n\t\t\t\t</text>\r\n\t\t\t</g>\r\n\t);\r\n};\r\n\r\nexport default LabelComponent;","import React from 'react';\r\n\r\n\r\nconst LabelAxis = ({x, y ,datum, text}) => {\r\n\r\n\treturn (\r\n\t\t\t<text\r\n\t\t\t\t\tx={x}\r\n\t\t\t\t\ty={y}\r\n\t\t\t>\r\n\t\t\t\t<tspan\r\n\t\t\t\t\t\tdata-time={datum}\r\n\t\t\t\t\t\tstyle={{fontSize: 12, fill: '#70757a'}}\r\n\t\t\t\t\t\tx={x}\r\n\t\t\t\t>\r\n\t\t\t\t\t{text}\r\n\t\t\t\t</tspan>\r\n\t\t\t</text>\r\n\t);\r\n};\r\n\r\nexport default LabelAxis;","import React from 'react';\r\nimport {useSelector} from \"react-redux\";\r\n\r\nconst WindArrow = ({x, dx, datum}) => {\r\n\r\n\tconst {tickValues} = useSelector(state => state.graphics)\r\n\r\n\tlet {wind_degree, wind_kph, time} = datum\r\n\tconst isVisible = tickValues.includes(time)\r\n\r\n\tif (!isVisible) return null\r\n\r\n\tif (wind_kph < 10) wind_kph = 10\r\n\r\n\treturn (\r\n\t\t\t<svg x={(x - (wind_kph + 5) / 2) + dx}\r\n\t\t\t\t\t y={53}>\r\n\t\t\t\t<svg\r\n\t\t\t\t\t\tx=\"0px\"\r\n\t\t\t\t\t\ty=\"0px\"\r\n\t\t\t\t\t\twidth={`${wind_kph}px`}\r\n\t\t\t\t\t\theight=\"42px\"\r\n\t\t\t\t\t\tviewBox=\"0 0 42 42\"\r\n\t\t\t\t\t\tenableBackground=\"new 0 0 42 42\"\r\n\t\t\t\t>\r\n\t\t\t\t\t<polygon\r\n\t\t\t\t\t\t\tfill=\"#AEBFCF\"\r\n\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\ttransformOrigin: '50% 50%',\r\n\t\t\t\t\t\t\t\ttransform: `rotate(${wind_degree - 90}deg)`,\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\tpoints=\"27,37.5 42,20 27,4.5 18,4.5 30,16.5 0,16.5 0,23.5 30,23.5 18,37.5 \"/>\r\n\t\t\t\t</svg>\r\n\t\t\t</svg>\r\n\t);\r\n};\r\n\r\nexport default WindArrow;","import React, {useEffect} from 'react';\r\nimport {batch, useDispatch, useSelector} from \"react-redux\";\r\nimport {VictoryArea, VictoryAxis, VictoryChart, VictoryContainer, VictoryLabel, VictoryScatter} from \"victory\";\r\nimport {getArrHours, getMinY, getXY, setSlideGraphics} from \"../../store/graphSlice\";\r\n\r\nimport useGraphics from \"../../hooks/useGraphics\";\r\nimport LabelComponent from \"./LabelComponent\";\r\nimport LabelAxis from \"./LabelAxis\";\r\nimport WindArrow from \"./WindArrow\";\r\n\r\nconst WeatherGraphic = ({data}) => {\r\n\r\n\tconst {dataXY, typeY, tickValues, minY} =\r\n\t\t\tuseSelector(state => state.graphics)\r\n\r\n\tconst dispatch = useDispatch()\r\n\r\n\tconst {getVisualY, chartsStyles, onClick} = useGraphics()\r\n\r\n\tuseEffect(() => {\r\n\t\tbatch(() => {\r\n\t\t\t\t\tdispatch(getXY({data}))\r\n\t\t\t\t\tdispatch(getArrHours())\r\n\t\t\t\t\tdispatch(setSlideGraphics(data.current.last_updated))\r\n\t\t\t\t\tdispatch(getMinY())\r\n\t\t\t\t}\r\n\t\t)\r\n\t}, [data])\r\n\r\n\treturn (\r\n\t\t\t<VictoryChart\r\n\t\t\t\t\twidth={1925}\r\n\t\t\t\t\theight={125}\r\n\t\t\t\t\tpadding={chartsStyles.padding}\r\n\t\t\t\t\tdomainPadding={chartsStyles.domainPadding}\r\n\t\t\t\t\tcontainerComponent={\r\n\t\t\t\t\t\t<VictoryContainer\r\n\t\t\t\t\t\t\t\tevents={onClick}\r\n\t\t\t\t\t\t\t\tstyle={chartsStyles.VictoryContainer}\r\n\t\t\t\t\t\t\t\tresponsive={false}/>}\r\n\t\t\t>\r\n\t\t\t\t<VictoryAxis\r\n\t\t\t\t\t\tname='VictoryAxis'\r\n\t\t\t\t\t\tcrossAxis={false}\r\n\t\t\t\t\t\ttickValues={tickValues}\r\n\t\t\t\t\t\ttickFormat={(t) => `${new Date(t).getHours()}:00`}\r\n\t\t\t\t\t\tstyle={chartsStyles.VictoryAxis}\r\n\t\t\t\t\t\ttickLabelComponent={<LabelAxis y={123}/>}\r\n\t\t\t\t/>\r\n\t\t\t\t{typeY.includes('wind')\r\n\t\t\t\t\t\t? <VictoryScatter\r\n\t\t\t\t\t\t\t\tname='windChart'\r\n\t\t\t\t\t\t\t\tdata={dataXY}\r\n\t\t\t\t\t\t\t\tx='time'\r\n\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\tlabels: {\r\n\t\t\t\t\t\t\t\t\t\tfontFamily: 'Arial, sans-serif',\r\n\t\t\t\t\t\t\t\t\t\tfontSize: 12, stroke: undefined\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\tlabels={({datum}) => getVisualY(datum)}\r\n\t\t\t\t\t\t\t\tdataComponent={<WindArrow dx={15}/>}\r\n\t\t\t\t\t\t\t\tlabelComponent={\r\n\t\t\t\t\t\t\t\t\t<VictoryLabel dx={15} y={35}/>}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t: <VictoryArea\r\n\t\t\t\t\t\t\t\tname='chart'\r\n\t\t\t\t\t\t\t\ty0={() => minY}\r\n\t\t\t\t\t\t\t\tinterpolation={typeY === 'humidity' ? 'step' : 'basis'}\r\n\t\t\t\t\t\t\t\tstyle={chartsStyles.VictoryArea}\r\n\t\t\t\t\t\t\t\tdata={dataXY}\r\n\t\t\t\t\t\t\t\tx='time'\r\n\t\t\t\t\t\t\t\ty={typeY}\r\n\t\t\t\t\t\t\t\tlabels={({datum}) => getVisualY(datum)}\r\n\t\t\t\t\t\t\t\tlabelComponent={\r\n\t\t\t\t\t\t\t\t\t<LabelComponent\r\n\t\t\t\t\t\t\t\t\t\t\ty={typeY.includes('temp') ? undefined : 45}\r\n\t\t\t\t\t\t\t\t\t\t\tdx={typeY.includes('temp') ? 8 : 2}\r\n\t\t\t\t\t\t\t\t\t\t\tdy={-10}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t}\r\n\t\t\t</VictoryChart>\r\n\t);\r\n};\r\n\r\nexport default WeatherGraphic;","import React, {memo} from 'react';\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {setCurrDayData} from \"../../store/currWeatherSlice\";\r\nimport {setSlideGraphics} from \"../../store/graphSlice\";\r\n\r\nconst DaysBtns = () => {\r\n\r\n\tconst {data} = useSelector(state => state.data)\r\n\tconst {currData, isMetric} = useSelector(state => state.currWeather)\r\n\r\n\tconst dispatch = useDispatch()\r\n\r\n\tfunction handlerClick(e, btnDay, isSameDay) {\r\n\t\tif (isSameDay) return\r\n\r\n\t\tconst btn = e.target.closest('button')\r\n\r\n\t\tbtn.parentElement.querySelectorAll('button')\r\n\t\t\t\t.forEach(b => b.classList.remove('active'))\r\n\t\tbtn.classList.add('active')\r\n\r\n\t\tdispatch(setSlideGraphics(btnDay.date))\r\n\t\tdispatch(setCurrDayData([btnDay.date, btnDay.day]))\r\n\t}\r\n\r\n\tfunction addBtns(btn) {\r\n\t\tlet {maxtemp_c, maxtemp_f, mintemp_c, mintemp_f} = btn.day\r\n\t\tconst {icon, text} = btn.day.condition\r\n\t\tconst currDay = new Date(currData.updTimeStamp).getDate()\r\n\t\tconst btnDay = new Date(btn.date).getDate();\r\n\t\tconst isSameDay = currDay === btnDay;\r\n\r\n\t\tfunction roundNums(...nums) {\r\n\t\t\treturn nums.map(num => Math.round(num))\r\n\t\t}\r\n\r\n\t\t[maxtemp_c, maxtemp_f, mintemp_c, mintemp_f]\r\n\t\t\t\t= roundNums(maxtemp_c, maxtemp_f, mintemp_c, mintemp_f)\r\n\r\n\t\tconst weekDay = new Intl.DateTimeFormat(\r\n\t\t\t\t'ru-RU',\r\n\t\t\t\t{weekday: 'short'})\r\n\t\t\t\t.format(new Date(btn.date))\r\n\r\n\t\treturn (\r\n\t\t\t\t<button\r\n\t\t\t\t\t\tonClick={e => handlerClick(e, btn, isSameDay)}\r\n\t\t\t\t\t\tclassName={`day-btn ${isSameDay ? 'active' : ''}`}\r\n\t\t\t\t\t\tkey={btn.date}\r\n\t\t\t\t>\r\n\t\t\t\t\t<div>{weekDay}</div>\r\n\t\t\t\t\t<img width={64} height={64} src={icon} alt={text}/>\r\n\t\t\t\t\t<br/>\r\n\t\t\t\t\t<span>  {`${isMetric ? maxtemp_c : maxtemp_f}`}&deg; </span>\r\n\t\t\t\t\t<span className={'day-btn__f'}>{`${isMetric ? mintemp_c : mintemp_f}`}&deg;</span>\r\n\t\t\t\t</button>\r\n\t\t)\r\n\t}\r\n\r\n\treturn (\r\n\t\t\t<div className=\"day-btns\">\r\n\t\t\t\t{\r\n\t\t\t\t\tdata.forecast.forecastday\r\n\t\t\t\t\t\t.map(btn => addBtns(btn))\r\n\t\t\t\t}\r\n\t\t\t</div>\r\n\t);\r\n};\r\n\r\nfunction areEqual(prevProps, currProps) {\r\n\tconst sameDay = new Date(prevProps.currData.updTimeStamp).getDay() === new Date(currProps.currData.updTimeStamp).getDay()\r\n\treturn (prevProps.isMetric === currProps.isMetric && sameDay)\r\n}\r\n\r\nexport default memo(DaysBtns, areEqual);\r\n","import 'normalize.css'\nimport './App.css';\n\nimport {useEffect} from \"react\";\nimport {useSelector} from \"react-redux\";\n\nimport CurrentWeather from \"./components/CurrentWeather/CurrentWeather\";\nimport TypeBtns from \"./components/TypeBtns/TypeBtns\";\nimport WeatherGraphic from \"./components/WeatherGraphic/WeatherGraphic\";\nimport DaysBtns from \"./components/DaysBtns/DaysBtns\";\nimport useFindLocation from \"./hooks/useFindLocation\";\n\nfunction App() {\n\tconst {data ,errorFetchWeather, statusFetchWeather} = useSelector(state => state.data)\n\n\tconst { getUrPosition } = useFindLocation()\n\n\tuseEffect(() => {\n\t\tgetUrPosition()\n\t}, []);\n\n\treturn (\n\t\t\t<div className=\"App\">\n\t\t\t\t{statusFetchWeather === 'loading' && <h2>loading...</h2>}\n\t\t\t\t{errorFetchWeather && <h2 style={{color: 'red'}}>Ошибка: {errorFetchWeather}</h2>}\n\t\t\t\t{statusFetchWeather === 'ok'\n\t\t\t\t&& !errorFetchWeather\n\t\t\t\t&& <div className={'container'}>\n\t\t\t\t\t<CurrentWeather/>\n\t\t\t\t\t<TypeBtns/>\n\t\t\t\t\t<div className={'charts'}>\n\t\t\t\t\t\t<WeatherGraphic data={data}/>\n\t\t\t\t\t</div>\n\t\t\t\t\t<DaysBtns />\n\t\t\t\t</div>\n\t\t\t\t}\n\t\t\t</div>\n\t);\n}\n\nexport default App;\n","import {configureStore} from \"@reduxjs/toolkit\";\r\nimport graphSlice from \"./graphSlice\";\r\nimport dataSlice from './dataSlice'\r\nimport currWeatherSlice from \"./currWeatherSlice\";\r\n\r\nexport default configureStore({\r\n\treducer: {\r\n\t\tdata: dataSlice,\r\n\t\tgraphics: graphSlice,\r\n\t\tcurrWeather: currWeatherSlice,\r\n\t}\r\n})","import './wdyr'\n\nimport React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport App from './App';\n\nimport {Provider} from \"react-redux\";\nimport store from './store'\n\n\nReactDOM.render(\n\t\t<React.StrictMode>\n\t\t\t<Provider store={store}>\n\t\t\t\t<App/>\n\t\t\t</Provider>\n\t\t</React.StrictMode>,\n\t\tdocument.getElementById('root')\n);"],"sourceRoot":""}